package de.florianmichael.uiutilsreborn.widget;

import de.florianmichael.uiutilsreborn.util.Side;
import net.minecraft.text.Text;
import net.minecraft.util.Formatting;

public class ToggleableExploitButtonWidget extends ExploitButtonWidget {

    private boolean toggled;

    public ToggleableExploitButtonWidget(String tileTranslationKey, Side side, PressAction pressAction) {
        super(tileTranslationKey, side, button -> {
            final ToggleableExploitButtonWidget buttonWidget = (ToggleableExploitButtonWidget) button;
            buttonWidget.toggle();

            pressAction.onPress(button);
        });
    }

    @Override
    public Text getMessage() {
        return super.getMessage().copy().styled(style -> style.withColor(isToggled() ? Formatting.GREEN : Formatting.DARK_RED));
    }

    public boolean isToggled() {
        return toggled;
    }

    public void toggle() {
        this.toggled = !this.toggled;
    }
}
